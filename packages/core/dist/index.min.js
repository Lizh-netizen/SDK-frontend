!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(e="undefined"!=typeof globalThis?globalThis:e||self)["web-see"]=i()}(this,function(){var P,j,s,d,F,q,B,L,M,z,u,c,l,p,f,b,h,m,e,X,G,V,r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},J={};function $(e){for(var i={},t=0;t<e.length;t++)i[e[t].toUpperCase()]=e[t];return i}function W(e,i){return typeof e===z&&-1!==G(i).indexOf(G(e))}function K(e,i){if(typeof e===z)return e=e.replace(/^\s\s*/,q),typeof i==L?e:e.substring(0,500)}function Z(e,i){for(var t,r,n,o,a,s=0;s<i.length&&!o;){for(var u=i[s],c=i[s+1],l=t=0;l<u.length&&!o&&u[l];)if(o=u[l++].exec(e))for(r=0;r<c.length;r++)a=o[++t],typeof(n=c[r])===M&&0<n.length?2===n.length?typeof n[1]==B?this[n[0]]=n[1].call(this,a):this[n[0]]=n[1]:3===n.length?typeof n[1]!==B||n[1].exec&&n[1].test?this[n[0]]=a?a.replace(n[1],n[2]):d:this[n[0]]=a?n[1].call(this,a,n[2]):d:4===n.length&&(this[n[0]]=a?n[3].call(this,a.replace(n[1],n[2])):d):this[n]=a||d;s+=2}}function Q(e,i){for(var t in i)if(typeof i[t]===M&&0<i[t].length){for(var r=0;r<i[t].length;r++)if(W(i[t][r],e))return"?"===t?d:t}else if(W(i[t],e))return"?"===t?d:t;return e}function w(e,i){var t,r,n,o,a;return typeof e===M&&(i=e,e=d),this instanceof w?(t=typeof s!=L&&s.navigator?s.navigator:d,r=e||(t&&t.userAgent?t.userAgent:q),n=t&&t.userAgentData?t.userAgentData:d,o=i?function(e,i){var t,r={};for(t in e)i[t]&&i[t].length%2==0?r[t]=i[t].concat(e[t]):r[t]=e[t];return r}(V,i):V,a=t&&t.userAgent==r,this.getBrowser=function(){var e,i={};return i[c]=d,i[f]=d,Z.call(i,r,o.browser),i.major=typeof(e=i[f])===z?e.replace(/[^\d\.]/g,q).split(".")[0]:d,a&&t&&t.brave&&typeof t.brave.isBrave==B&&(i[c]="Brave"),i},this.getCPU=function(){var e={};return e[b]=d,Z.call(e,r,o.cpu),e},this.getDevice=function(){var e={};return e[p]=d,e[u]=d,e[l]=d,Z.call(e,r,o.device),a&&!e[l]&&n&&n.mobile&&(e[l]=h),a&&"Macintosh"==e[u]&&t&&typeof t.standalone!=L&&t.maxTouchPoints&&2<t.maxTouchPoints&&(e[u]="iPad",e[l]=m),e},this.getEngine=function(){var e={};return e[c]=d,e[f]=d,Z.call(e,r,o.engine),e},this.getOS=function(){var e={};return e[c]=d,e[f]=d,Z.call(e,r,o.os),a&&!e[c]&&n&&n.platform&&"Unknown"!=n.platform&&(e[c]=n.platform.replace(/chrome os/i,X).replace(/macos/i,"Mac OS")),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===z&&500<e.length?K(e,500):e,this},this.setUA(r),this):new w(e,i).getResult()}P={get exports(){return J},set exports(e){J=e}},j=J,s="object"==typeof window?window:i,B="function",L="undefined",M="object",z="string",V={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f="version",[c="name",i="Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[c,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[c,f],[/opios[\/ ]+([\w\.]+)/i],[f,[c,(H="Opera")+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[f,[c,H+" GX"]],[/\bopr\/([\w\.]+)/i],[f,[c,H]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[f,[c,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[c,f],[/\bddg\/([\w\.]+)/i],[f,[c,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[c,"UC"+(O="Browser")]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[f,[c,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[c,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[c,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[c,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[f,[c,"Smart Lenovo "+O]],[/(avast|avg)\/([\w\.]+)/i],[[c,/(.+)/,"$1 Secure "+O],f],[/\bfocus\/([\w\.]+)/i],[f,[c,(me="Firefox")+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[c,H+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[c,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[c,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[c,H+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[c,"MIUI "+O]],[/fxios\/([-\w\.]+)/i],[f,[c,me]],[/\bqihu|(qi?ho?o?|360)browser/i],[[c,"360 "+O]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[c,/(.+)/,"$1 "+O],f],[/samsungbrowser\/([\w\.]+)/i],[f,[c,(H="Samsung")+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],f],[/metasr[\/ ]?([\d\.]+)/i],[f,[c,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[c,"Sogou Mobile"],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[c,f],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[c],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[c,ie="Facebook"],f],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[c,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[c,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[c,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[c,i+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[c,i+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[c,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[c,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[c,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,c],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[c,[f,Q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[c,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[c,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[c,me+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[c,f],[/(cobalt)\/([\w\.]+)/i],[c,[f,/master.|lts./,q=""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b="architecture","amd64"]],[/(ia32(?=;))/i],[[b,G=function(e){return e.toLowerCase()}]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,q,G]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u="model",[p="vendor",H],[l="type",m="tablet"]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[p,H],[l,h="mobile"]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[p,O="Apple"],[l,h]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[p,O],[l,m]],[/(macintosh);/i],[u,[p,O]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[p,"Sharp"],[l,h]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[p,"Huawei"],[l,m]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[p,"Huawei"],[l,h]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[p,I="Xiaomi"],[l,h]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[p,I],[l,m]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[p,"OPPO"],[l,h]],[/\b(opd2\d{3}a?) bui/i],[u,[p,"OPPO"],[l,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[p,"Vivo"],[l,h]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[p,"Realme"],[l,h]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[p,o="Motorola"],[l,h]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[p,o],[l,m]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[p,"LG"],[l,m]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[p,"LG"],[l,h]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[p,"Lenovo"],[l,m]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[p,"Nokia"],[l,h]],[/(pixel c)\b/i],[u,[p,o="Google"],[l,m]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[p,o],[l,h]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[p,e="Sony"],[l,h]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[p,e],[l,m]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[p,"OnePlus"],[l,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[p,E="Amazon"],[l,m]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[p,E],[l,h]],[/(playbook);[-\w\),; ]+(rim)/i],[u,p,[l,m]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[p,he="BlackBerry"],[l,h]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[p,"ASUS"],[l,m]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[p,"ASUS"],[l,h]],[/(nexus 9)/i],[u,[p,"HTC"],[l,m]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[u,/_/g," "],[l,h]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[p,"Acer"],[l,m]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[p,"Meizu"],[l,h]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[p,"Ulefone"],[l,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,u,[l,h]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,u,[l,m]],[/(surface duo)/i],[u,[p,R="Microsoft"],[l,m]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[p,"Fairphone"],[l,h]],[/(u304aa)/i],[u,[p,"AT&T"],[l,h]],[/\bsie-(\w*)/i],[u,[p,"Siemens"],[l,h]],[/\b(rct\w+) b/i],[u,[p,"RCA"],[l,m]],[/\b(venue[\d ]{2,7}) b/i],[u,[p,"Dell"],[l,m]],[/\b(q(?:mv|ta)\w+) b/i],[u,[p,"Verizon"],[l,m]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[p,"Barnes & Noble"],[l,m]],[/\b(tm\d{3}\w+) b/i],[u,[p,"NuVision"],[l,m]],[/\b(k88) b/i],[u,[p,"ZTE"],[l,m]],[/\b(nx\d{3}j) b/i],[u,[p,"ZTE"],[l,h]],[/\b(gen\d{3}) b.+49h/i],[u,[p,"Swiss"],[l,h]],[/\b(zur\d{3}) b/i],[u,[p,"Swiss"],[l,m]],[/\b((zeki)?tb.*\b) b/i],[u,[p,"Zeki"],[l,m]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],u,[l,m]],[/\b(ns-?\w{0,9}) b/i],[u,[p,"Insignia"],[l,m]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[p,"NextBook"],[l,m]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],u,[l,h]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],u,[l,h]],[/\b(ph-1) /i],[u,[p,"Essential"],[l,h]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[p,"Envizen"],[l,m]],[/\b(trio[-\w\. ]+) b/i],[u,[p,"MachSpeed"],[l,m]],[/\btu_(1491) b/i],[u,[p,"Rotor"],[l,m]],[/(shield[\w ]+) b/i],[u,[p,"Nvidia"],[l,m]],[/(sprint) (\w+)/i],[p,u,[l,h]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[p,R],[l,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[p,y="Zebra"],[l,m]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[p,y],[l,h]],[/smart-tv.+(samsung)/i],[p,[l,A="smarttv"]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[p,H],[l,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,"LG"],[l,A]],[/(apple) ?tv/i],[p,[u,O+" TV"],[l,A]],[/crkey/i],[[u,i+"cast"],[p,o],[l,A]],[/droid.+aft(\w+)( bui|\))/i],[u,[p,E],[l,A]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[p,"Sharp"],[l,A]],[/(bravia[\w ]+)( bui|\))/i],[u,[p,e],[l,A]],[/(mitv-\w{5}) bui/i],[u,[p,I],[l,A]],[/Hbbtv.*(technisat) (.*);/i],[p,u,[l,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,K],[u,K],[l,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,A]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,u,[l,H="console"]],[/droid.+; (shield) bui/i],[u,[p,"Nvidia"],[l,H]],[/(playstation [345portablevi]+)/i],[u,[p,e],[l,H]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[p,R],[l,H]],[/((pebble))app/i],[p,u,[l,I="wearable"]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[p,O],[l,I]],[/droid.+; (glass) \d/i],[u,[p,o],[l,I]],[/droid.+; (wt63?0{2,3})\)/i],[u,[p,y],[l,I]],[/(quest( \d| pro)?)/i],[u,[p,ie],[l,I]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[l,e="embedded"]],[/(aeobc)\b/i],[u,[p,E],[l,e]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[l,h]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[l,m]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,m]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,h]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[c,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[c,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[c,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,f],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[c,[f,Q,R={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,Q,R],[c,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[c,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[c,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[c,f],[/\(bb(10);/i],[f,[c,he]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[c,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[c,me+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[c,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[c,"watchOS"]],[/crkey\/([\d\.]+)/i],[f,[c,i+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[c,X="Chromium OS"],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[c,f],[/(sunos) ?([\w\.\d]*)/i],[[c,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[c,f]]},w.VERSION="1.0.38",w.BROWSER=$([c,f,"major"]),w.CPU=$([b]),w.DEVICE=$([u,p,l,H,h,A,m,I,e]),w.ENGINE=w.OS=$([c,f]),(j=P.exports?P.exports=w:j).UAParser=w,(r=typeof s!=L&&(s.jQuery||s.Zepto))&&!r.ua&&(F=new w,r.ua=F.getResult(),r.ua.get=function(){return F.getUA()},r.ua.set=function(e){F.setUA(e);var i,t=F.getResult();for(i in t)r.ua[i]=t[i]});var Y={isNumber:t("Number"),isString:t("String"),isBoolean:t("Boolean"),isNull:t("Null"),isUndefined:t("Undefined"),isSymbol:t("Symbol"),isFunction:t("Function"),isObject:t("Object"),isArray:t("Array"),isProcess:t("process"),isWindow:t("Window")};function t(i){return function(e){return Object.prototype.toString.call(e)==="[object ".concat(i,"]")}}var v=window,n=(v.__webSee__=v.__webSee__||{},v.__webSee__),ee=Y.isWindow("undefined"!=typeof window?window:0);var g,o,a,y,x,ie,te,E,k,R,O=(new J.UAParser).getResult(),re=(n.deviceInfo={browserVersion:O.browser.version,browser:O.browser.name,osVersion:O.os.version,os:O.os.name,ua:O.ua,device:O.device.model||"Unknow",device_type:O.device.type||"Pc"},n.hasError=!1,n.replaceFlag=n.replaceFlag||{},n.replaceFlag);function S(e,i,t){return e&&(ne(e)===t||void console.error("web-see: ".concat(i,"期望传入").concat(t,"类型，目前是").concat(ne(e),"类型")))}function N(){return Date.now()}function ne(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function oe(e){return window.btoa(encodeURIComponent(e))}function ae(e){var i=n.errorMap.has(e);return i||n.errorMap.set(e,!0),i}function se(e,i){return Y.isString(e)?e.slice(0,i)+(e.length>i?":截取前".concat(i,"个字符"):""):""}function ue(e,i){try{e()}catch(e){i&&i(e)}}function ce(e,i,t,r){e.addEventListener(i,t,r=void 0===r?!1:r)}function le(e,i,t,r){void 0===r&&(r=!1),void 0!==e&&(i in e||r)&&"function"==typeof(r=t(e[i]))&&(e[i]=r)}n.errorMap=new Map,(o=g=g||{}).XHR="xhr",o.FETCH="fetch",o.CLICK="click",o.HISTORY="history",o.ERROR="error",o.HASHCHANGE="hashchange",o.UNHANDLEDREJECTION="unhandledrejection",o.RESOURCE="resource",o.DOM="dom",o.VUE="vue",o.REACT="react",o.CUSTOM="custom",o.PERFORMANCE="performance",o.RECORDSCREEN="recordScreen",o.WHITESCREEN="whiteScreen",(y=a=a||{}).HTTP="Http",y.CLICK="Click",y.RESOURCE="Resource_Error",y.CODEERROR="Code_Error",y.ROUTE="Route",y.CUSTOM="Custom",(ie=x=x||{}).ERROR="error",ie.OK="ok",(E=te=te||{})[E.BAD_REQUEST=400]="BAD_REQUEST",E[E.UNAUTHORIZED=401]="UNAUTHORIZED",(R=k=k||{}).Ok="ok",R.DeadlineExceeded="deadline_exceeded",R.Unauthenticated="unauthenticated",R.PermissionDenied="permission_denied",R.NotFound="not_found",R.ResourceExhausted="resource_exhausted",R.InvalidArgument="invalid_argument",R.Unimplemented="unimplemented",R.Unavailable="unavailable",R.InternalError="internal_error",R.UnknownError="unknown_error",R.Cancelled="cancelled",R.AlreadyExists="already_exists",R.FailedPrecondition="failed_precondition",R.Aborted="aborted",R.OutOfRange="out_of_range",R.DataLoss="data_loss";var T=function(){return(T=Object.assign||function(e){for(var i,t=1,r=arguments.length;t<r;t++)for(var n in i=arguments[t])Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);return e}).apply(this,arguments)};function de(e,a,s,u){return new(s=s||Promise)(function(t,i){function r(e){try{o(u.next(e))}catch(e){i(e)}}function n(e){try{o(u.throw(e))}catch(e){i(e)}}function o(e){var i;e.done?t(e.value):((i=e.value)instanceof s?i:new s(function(e){e(i)})).then(r,n)}o((u=u.apply(e,a||[])).next())})}function pe(r,n){var o,a,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(t){return function(e){var i=[t,e];if(o)throw new TypeError("Generator is already executing.");for(;u=c&&i[c=0]?0:u;)try{if(o=1,a&&(s=2&i[0]?a.return:i[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,i[1])).done)return s;switch(a=0,(i=s?[2&i[0],s.value]:i)[0]){case 0:case 1:s=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,a=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3]))u.label=i[1];else if(6===i[0]&&u.label<s[1])u.label=s[1],s=i;else{if(!(s&&u.label<s[2])){s[2]&&u.ops.pop(),u.trys.pop();continue}u.label=s[2],u.ops.push(i)}}i=n.call(r,u)}catch(e){i=[6,e],a=0}finally{o=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}}be.prototype.addFn=function(e){var i=this;"function"==typeof e&&("requestIdleCallback"in v||"Promise"in v?(this.stack.push(e),this.isFlushing||(this.isFlushing=!0,"requestIdleCallback"in v?requestIdleCallback(function(){return i.flushStack()}):Promise.resolve().then(function(){return i.flushStack()}))):e())},be.prototype.clear=function(){this.stack=[]},be.prototype.getStack=function(){return this.stack},be.prototype.flushStack=function(){var e=this.stack.slice(0);this.stack=[],this.isFlushing=!1;for(var i=0;i<e.length;i++)e[i]()};var fe=be;function be(){this.stack=[],this.isFlushing=!1}C.prototype.isSdkTransportUrl=function(e){var i=!1;return i=this.errorDsn&&-1!==e.indexOf(this.errorDsn)?!0:i},C.prototype.bindOptions=function(e){var i=e.dsn,t=e.apikey,r=e.userId,e=e.useImgUpload;S(t,"apikey","string")&&(this.apikey=t),S(i,"dsn","string")&&(this.errorDsn=i),S(r,"userId","string")&&(this.userId=r||""),S(e,"useImgUpload","boolean")&&(this.useImgUpload=e||!1)},C.prototype.imgRequest=function(t,r){this.queue.addFn(function(){var e=new Image,i=-1===r.indexOf("?")?"?":"&";e.src="".concat(r).concat(i,"data=").concat(encodeURIComponent(JSON.stringify(t)))})},C.prototype.xhrPost=function(t,r){return de(this,void 0,void 0,function(){var i;return pe(this,function(e){return i=function(){fetch("".concat(r),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},this.queue.addFn(i),[2]})})},C.prototype.beacon=function(e,i){return navigator.sendBeacon(e,JSON.stringify(i))},C.prototype.getTransportData=function(e){return T(T({},e),{apikey:this.apikey,uuid:this.uuid,pageUrl:"undefined"==typeof document||null==document.location?"":document.location.href,deviceInfo:n.deviceInfo})},C.prototype.beforePost=function(i){return de(this,void 0,void 0,function(){return pe(this,function(e){return[2,this.getTransportData(i)]})})},C.prototype.send=function(r){return de(this,void 0,void 0,function(){var i,t;return pe(this,function(e){switch(e.label){case 0:return i=this.errorDsn,n.options.silentRecordScreen&&_.recordScreenTypeList.includes(r.type)&&(n.hasError=!0,r.recordScreenId=n.recordScreenId),[4,this.beforePost(r)];case 1:return t=e.sent(),ee&&t&&!this.beacon(i,t)?[2,this.useImgUpload?this.imgRequest(t,i):this.xhrPost(t,i)]:[2]}})})};var he=C;function C(){var t;this.queue=new fe,this.apikey="",this.errorDsn="",this.userId="",this.useImgUpload=!1,this.uuid=(t=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:3&i|8).toString(16)}))}var U=n.transportData||(n.transportData=new he),me=(we.prototype.bindOptions=function(e){var i=e.dsn,t=e.filterXhrUrlRegExp,r=e.throttleDelayTime,r=void 0===r?0:r,n=e.overTime,n=void 0===n?10:n,o=e.silentWhiteScreen,o=void 0!==o&&o,a=e.whiteBoxElements,a=void 0===a?["html","body","#app","#root"]:a,s=e.skeletonProject,s=void 0!==s&&s,u=e.handleHttpStatus,e=e.repeatCodeError,e=void 0!==e&&e;S(i,"dsn","string")&&(this.dsn=i),S(r,"throttleDelayTime","number")&&(this.throttleDelayTime=r),S(n,"overTime","number")&&(this.overTime=n),S(t,"filterXhrUrlRegExp","regexp")&&(this.filterXhrUrlRegExp=t),S(o,"silentWhiteScreen","boolean")&&(this.silentWhiteScreen=o),S(s,"skeletonProject","boolean")&&(this.skeletonProject=s),S(a,"whiteBoxElements","array")&&(this.whiteBoxElements=a),S(u,"handleHttpStatus","function")&&(this.handleHttpStatus=u),S(e,"repeatCodeError","boolean")&&(this.repeatCodeError=e)},we);function we(){this.dsn="",this.throttleDelayTime=0,this.overTime=10,this.whiteBoxElements=["html","body","#app","#root"],this.silentWhiteScreen=!1,this.skeletonProject=!1,this.repeatCodeError=!1}var _=n.options||(n.options=new me);var ve,ge={},i={get exports(){return ge},set exports(e){ge=e}},ye={},xe={get exports(){return ye},set exports(e){ye=e}};function Ee(){return ve||(ve=1,xe.exports=function(){function t(e){return!isNaN(parseFloat(e))&&isFinite(e)}function r(e){return e.charAt(0).toUpperCase()+e.substring(1)}function e(e){return function(){return this[e]}}var i=["isConstructor","isEval","isNative","isToplevel"],n=["columnNumber","lineNumber"],o=["fileName","functionName","source"],a,s,u=i.concat(n,o,["args"],["evalOrigin"]);function d(e){if(!e)return;for(var i=0;i<u.length;i++)if(e[u[i]]!==undefined)this["set"+r(u[i])](e[u[i]])}d.prototype={getArgs:function(){return this.args},setArgs:function(e){if(Object.prototype.toString.call(e)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof d)this.evalOrigin=e;else if(e instanceof Object)this.evalOrigin=new d(e);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var e=this.getFileName()||"";var i=this.getLineNumber()||"";var t=this.getColumnNumber()||"";var r=this.getFunctionName()||"";if(this.getIsEval()){if(e)return"[eval] ("+e+":"+i+":"+t+")";return"[eval]:"+i+":"+t}if(r)return r+" ("+e+":"+i+":"+t+")";return e+":"+i+":"+t}},d.fromString=function e(i){var t=i.indexOf("(");var r=i.lastIndexOf(")");var n=i.substring(0,t);var o=i.substring(t+1,r).split(",");var a=i.substring(r+1);if(a.indexOf("@")===0){var s=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(a,"");var u=s[1];var c=s[2];var l=s[3]}return new d({functionName:n,args:o||undefined,fileName:u,lineNumber:c||undefined,columnNumber:l||undefined})};for(var c=0;c<i.length;c++){d.prototype["get"+r(i[c])]=e(i[c]);d.prototype["set"+r(i[c])]=function(i){return function(e){this[i]=Boolean(e)}}(i[c])}for(var l=0;l<n.length;l++){d.prototype["get"+r(n[l])]=e(n[l]);d.prototype["set"+r(n[l])]=function(i){return function(e){if(!t(e))throw new TypeError(i+" must be a Number");this[i]=Number(e)}}(n[l])}for(var p=0;p<o.length;p++){d.prototype["get"+r(o[p])]=e(o[p]);d.prototype["set"+r(o[p])]=function(i){return function(e){this[i]=String(e)}}(o[p])}return d}()),ye}i.exports=function(u){var r=/(^|@)\S+:\d+/;var n=/^\s*at .*(\S+:\d+|\(native\))/m;var o=/^(eval@)?(\[native code])?$/;return{parse:function e(i){if(typeof i.stacktrace!=="undefined"||typeof i["opera#sourceloc"]!=="undefined")return this.parseOpera(i);else if(i.stack&&i.stack.match(n))return this.parseV8OrIE(i);else if(i.stack)return this.parseFFOrSafari(i);else throw new Error("Cannot parse given Error object")},extractLocation:function e(i){if(i.indexOf(":")===-1)return[i];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/;var r=t.exec(i.replace(/[()]/g,""));return[r[1],r[2]||undefined,r[3]||undefined]},parseV8OrIE:function e(i){var t=i.stack.split("\n").filter(function(e){return!!e.match(n)},this);return t.map(function(e){if(e.indexOf("(eval ")>-1)e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,"");var i=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,"");var t=i.match(/ (\(.+\)$)/);i=t?i.replace(t[0],""):i;var r=this.extractLocation(t?t[1]:i);var n=t&&i||undefined;var o=["eval","<anonymous>"].indexOf(r[0])>-1?undefined:r[0];return new u({functionName:n,fileName:o,lineNumber:r[1],columnNumber:r[2],source:e})},this)},parseFFOrSafari:function e(i){var t=i.stack.split("\n").filter(function(e){return!e.match(o)},this);return t.map(function(e){if(e.indexOf(" > eval")>-1)e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1");if(e.indexOf("@")===-1&&e.indexOf(":")===-1)return new u({functionName:e});else{var i=/((.*".+"[^@]*)?[^@]*)(?:@)/;var t=e.match(i);var r=t&&t[1]?t[1]:undefined;var n=this.extractLocation(e.replace(i,""));return new u({functionName:r,fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:e})}},this)},parseOpera:function e(i){if(!i.stacktrace||i.message.indexOf("\n")>-1&&i.message.split("\n").length>i.stacktrace.split("\n").length)return this.parseOpera9(i);else if(!i.stack)return this.parseOpera10(i);else return this.parseOpera11(i)},parseOpera9:function e(i){var t=/Line (\d+).*script (?:in )?(\S+)/i;var r=i.message.split("\n");var n=[];for(var o=2,a=r.length;o<a;o+=2){var s=t.exec(r[o]);if(s)n.push(new u({fileName:s[2],lineNumber:s[1],source:r[o]}))}return n},parseOpera10:function e(i){var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var r=i.stacktrace.split("\n");var n=[];for(var o=0,a=r.length;o<a;o+=2){var s=t.exec(r[o]);if(s)n.push(new u({functionName:s[3]||undefined,fileName:s[2],lineNumber:s[1],source:r[o]}))}return n},parseOpera11:function e(i){var t=i.stack.split("\n").filter(function(e){return!!e.match(r)&&!e.match(/^Error created at/)},this);return t.map(function(e){var i=e.split("@");var t=this.extractLocation(i.pop());var r=i.shift()||"";var n=r.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||undefined;var o;if(r.match(/\(([^)]*)\)/))o=r.replace(/^[^(]+\(([^)]*)\)$/,"$1");var a=o===undefined||o==="[arguments not available]"?undefined:o.split(",");return new u({functionName:n,args:a,fileName:t[0],lineNumber:t[1],columnNumber:t[2],source:e})},this)}}}(Ee());var ke=ge;function Re(e){var i,t="",r=e.elapsedTime,n=e.time,o=e.method,o=void 0===o?"":o,a=e.type,s=e.Status,s=void 0===s?200:s,u=e.response,c=e.requestData;return 0===s?(i=x.ERROR,t=r<=1e3*_.overTime?"请求失败，Status值为:".concat(s):"请求失败，接口超时"):s<te.BAD_REQUEST?(i=x.OK,_.handleHttpStatus&&"function"==typeof _.handleHttpStatus&&(_.handleHttpStatus(e)?i=x.OK:(i=x.ERROR,t="接口报错，报错信息为：".concat("object"==typeof u?JSON.stringify(u):u)))):(i=x.ERROR,t="请求失败，Status值为:".concat(s,"，").concat(function(e){if(e<400)return k.Ok;if(400<=e&&e<500)switch(e){case 401:return k.Unauthenticated;case 403:return k.PermissionDenied;case 404:return k.NotFound;case 409:return k.AlreadyExists;case 413:return k.FailedPrecondition;case 429:return k.ResourceExhausted;default:return k.InvalidArgument}if(500<=e&&e<600)switch(e){case 501:return k.Unimplemented;case 503:return k.Unavailable;case 504:return k.DeadlineExceeded;default:return k.InternalError}return k.UnknownError}(s))),t="".concat(e.url,"; ").concat(t),{url:e.url,time:n,status:i,elapsedTime:r,message:t,requestData:{httpType:a,method:o,data:c||""},response:{Status:s,data:i==x.ERROR?u:null}}}D.prototype.push=function(e){var i;if("function"==typeof this.beforePushBreadcrumb)return(i=this.beforePushBreadcrumb(e))?void this.immediatePush(i):void 0;this.immediatePush(e)},D.prototype.immediatePush=function(e){e.time||(e.time=N()),this.stack.length>=this.maxBreadcrumbs&&this.shift(),this.stack.push(e),this.stack.sort(function(e,i){return e.time-i.time})},D.prototype.shift=function(){return void 0!==this.stack.shift()},D.prototype.clear=function(){this.stack=[]},D.prototype.getStack=function(){return this.stack},D.prototype.getCategory=function(e){switch(e){case g.XHR:case g.FETCH:return a.HTTP;case g.CLICK:return a.CLICK;case g.HISTORY:case g.HASHCHANGE:return a.ROUTE;case g.RESOURCE:return a.RESOURCE;case g.UNHANDLEDREJECTION:case g.ERROR:return a.CODEERROR;default:return a.CUSTOM}},D.prototype.bindOptions=function(e){var i=e.maxBreadcrumbs,e=e.beforePushBreadcrumb;S(i,"maxBreadcrumbs","number")&&(this.maxBreadcrumbs=i||20),S(e,"beforePushBreadcrumb","function")&&(this.beforePushBreadcrumb=e)};var H=D;function D(){this.maxBreadcrumbs=20,this.beforePushBreadcrumb=null,this.stack=[]}var Oe,A,Se,I,Ne=n.breadcrumb||(n.breadcrumb=new H),Te={handleHttp:function(e,i){e=Re(e);"error"===e.status&&U.send(T(T({},e),{type:i,status:x.ERROR}))},handleError:function(e){var i=e.target;if(!i||e.target&&!e.target.localName){var t=ke.parse(i?e.error:e)[0],r=t.fileName,n=t.columnNumber,t=t.lineNumber,t={type:g.ERROR,status:x.ERROR,time:N(),message:e.message,fileName:r,line:t,column:n},e=(Ne.push({type:g.ERROR,category:Ne.getCategory(g.ERROR),data:t,time:N(),status:x.ERROR}),oe("".concat(g.ERROR,"-").concat(e.message,"-").concat(r,"-").concat(n)));if(!_.repeatCodeError||_.repeatCodeError&&!ae(e))return U.send(t)}if(null!=i&&i.localName)return r=i,n={time:N(),message:(se(r.src,120)||se(r.href,120))+"; 资源加载失败",name:r.localName},U.send(T(T({},n),{type:g.RESOURCE,status:x.ERROR}))},handleUnhandleRejection:function(e){console.log(e);var i=ke.parse(e.reason)[0],t=i.fileName,r=i.columnNumber,i=i.lineNumber,e=(e=e.reason.message||e.reason.stack,Y.isString(e)?e:Y.isUndefined(e)?"undefined":JSON.stringify(e)),i={type:g.UNHANDLEDREJECTION,status:x.ERROR,time:N(),message:e,fileName:t,line:i,column:r},e=oe("".concat(g.UNHANDLEDREJECTION,"-").concat(e,"-").concat(t,"-").concat(r));_.repeatCodeError&&(!_.repeatCodeError||ae(e))||U.send(i)}},Ce=((A=Oe=Oe||{}).XHR="xhr",A.FETCH="fetch",(I=Se=Se||{}).Get="GET",I.Post="POST",I.Put="PUT",I.Delete="DELETE",{});function Ue(e){var i,t;return e&&(i=e.type,!re[i])&&(i=e.type,t=!0,re[i]||(re[i]=t),Ce[e.type]=Ce[e.type]||[],null!=(i=Ce[e.type])&&i.push(e.callback),1)}function _e(e,i){e&&Ce[e]&&null!=(e=Ce[e])&&e.forEach(function(e){ue(function(){e(i)},function(){})})}function He(e){if(Ue(e))switch(e.type){case g.XHR:!function(){var e;"XMLHttpRequest"in v&&(le(e=XMLHttpRequest.prototype,"open",function(t){return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.websee_xhr={method:Y.isString(e[0])?e[0].toUpperCase():e[0],url:e[1],sTime:N(),type:Oe.XHR},t.apply(this,e)}}),le(e,"send",function(t){return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var i=this.websee_xhr,o=i.method,a=i.url;ce(this,"loadend",function(){var e,i,t,r;o===Se.Post&&U.isSdkTransportUrl(a)||De(a)||(e=this.responseType,i=this.response,t=this.status,this.websee_xhr.requestData=n[0],r=N(),this.websee_xhr.time=this.websee_xhr.sTime,this.websee_xhr.Status=t,-1!==["","json","text"].indexOf(e)&&_.handleHttpStatus&&"function"==typeof _.handleHttpStatus&&(this.websee_xhr.response=i&&JSON.parse(i)),this.websee_xhr.elapsedTime=r-this.websee_xhr.sTime,_e(g.XHR,this.websee_xhr))}),t.apply(this,n)}}))}();break;case g.FETCH:"fetch"in v&&le(v,g.FETCH,function(t){return function(r,e){void 0===e&&(e={});var n=N(),o=e&&e.method||"GET",a={type:Oe.FETCH,method:o,requestData:e&&e.body,url:r,response:""},i=new Headers(e.headers||{});return Object.assign(i,{setRequestHeader:i.set}),e=Object.assign({},e,i),t.apply(v,[r,e]).then(function(e){var i=e.clone(),t=N();return a=Object.assign({},a,{elapsedTime:t-n,Status:i.status,time:n}),i.text().then(function(e){o===Se.Post&&U.isSdkTransportUrl(r)||De(r)||(_.handleHttpStatus&&"function"==typeof _.handleHttpStatus&&(a.response=e),_e(g.FETCH,a))}),e},function(e){var i=N();if(!(o===Se.Post&&U.isSdkTransportUrl(r)||De(r)))throw a=Object.assign({},a,{elapsedTime:i-n,status:0,time:n}),_e(g.FETCH,a),e})}});break;case g.ERROR:ce(v,"error",function(e){e.preventDefault(),_e(g.ERROR,e)},!0);break;case g.UNHANDLEDREJECTION:ce(v,g.UNHANDLEDREJECTION,function(e){e.preventDefault(),_e(g.UNHANDLEDREJECTION,e)})}}function De(e){return _.filterXhrUrlRegExp&&_.filterXhrUrlRegExp.test(e)}function Ae(e){if(!e.dsn||!e.apikey)return console.error("web-mon 缺少必须配置项：".concat(e.dsn?"apikey":"dsn"," "));"fetch"in v&&!e.disabled&&(e=e,U.bindOptions(e),_.bindOptions(e),He({callback:function(e){Te.handleHttp(e,g.XHR)},type:g.XHR}),He({callback:function(e){Te.handleHttp(e,g.FETCH)},type:g.FETCH}),He({callback:function(e){Te.handleError(e)},type:g.ERROR}),He({callback:function(e){Te.handleUnhandleRejection(e)},type:g.UNHANDLEDREJECTION}))}return{install:function(e,i){var r=e.config.errorHandler;e.config.errorHandler=function(e,i,t){console.log(e),Te.handleError(e),r&&r.apply(null,[e,i,t])},Ae(i)},use:function(e,i){var t=new e(i);ue(function(){t.core({transportData:U,options:_})})},init:Ae,captureError:function(e){var i=e.message,t=e.lineNumber,e=e.columnNumber,i={type:g.ERROR,status:x.ERROR,time:N(),message:i,line:t,column:e};U.send(i)}}});
//# sourceMappingURL=index.min.js.map
